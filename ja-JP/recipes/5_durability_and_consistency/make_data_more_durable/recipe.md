### 問題

Redis にあるデータの耐久性を上げたい。

### 解法

Redis 組み込みのbuilt-in *追記型ファイル* (AOF) を使用してください。 

`redis.conf` という Redis 構成ファイルを編集して、次の行を含めてください：
	appendonly yes

Redis はすべてのコマンドを AOF に対応させる予定です。
もしサーバがクラッシュしてもこのファイルから状態の再構築ができるでしょう。
MySQL の binlog など、他のデータベースで一般的なログファイルととてもよく似た振舞いをします。

### 検討

AOF 自身は構成可能です。 耐久性と速度とのトレードオフとなる３つの異なるオプションがあります。
`redis.conf` にこれら構成を設定できます。

３つのオプションとは、すべてのコマンドで強制的に同期する、1秒毎に同期する、同期しない（つまりオペレーティングシステムのプロセスに任せる）です。Redis のデフォルトはすべてのコマンドで同期するですが、とても遅くなるでしょう。通常、２番目のオプションは安全性(訳注：耐久性？)と速度とのトレードオフです。

### 参照


